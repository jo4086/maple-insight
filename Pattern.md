# Patterns

## Composite Parttern (복합체 패턴)

### **특징**

- `복합객체(Composite)` & `단일 객체(Leaf)`를 동일한 컴포넌트로 취급 => 클라이언트에게 둘을 구분하지 않고 동일한 인터페이스를 사용하도록 하는 구조 패턴

- `전체 <=> 부분`의 관계를 갖는 객체들 사이의 관계를 트리 계층 구조로 정의할 때 유용.\
  윈도우 or 리눅스의 **파일 시스템 구조**와 유사

- 즉 `Composite Pattern`은 그릇과 내용물을 동일시 => 재귀적인 구조를 만들기 위한 _Design Pattren_

- **사용처**
  - 데이터를 **계층적** 트리 표현으로 다룰 때
  - 복잡하고 난해한 단일 / 복합 객체 관계를 단순화하여 균일하게 처리하고 싶을 때

- **장점**
  - 단일체 & 복합체를 동일하게 취급하므로 묶어서 연산하거나 관리할 때 편함.
  - 다형성 재귀를 통해 복잡한 트리 구조를 보다 편리하게 구성
  - 수평적, 수직적 모든 방향으로 객체 확장 가능
  - 새로운 Leaf클래스를 추가하여도 클라이언트는 추상화된 인터페이스만을 보기에 **개방 폐쇄 원칙(OCP)** 를 준수.

- **단점**
  - 재귀 호출의 특징 상 트리의 깊이(depth)가 깊어질 수록 디버깅이 어려움.
  - 설계가 지나치게 범용적이기에 새로운 요소를 추가할 때 복합 객체에서 구성 요소에 제약을 갖기 힘듬
  - 예시로 계층형 구조에서 `leaf 객체`와 `composite 객체`들을 모두 동일한 인터페이스로 다뤄야할 때 이 공통 인터페이스 설계가 까다로울 수 있음
  - _**e.g**_
    - 복합 객체가 가지는 부분 객체의 종류를 제한한 필요가 있을 때
    - 수평적 방향으로만 확장이 가능하도록 Leaf를 제한하는 Composite를 만들 때
